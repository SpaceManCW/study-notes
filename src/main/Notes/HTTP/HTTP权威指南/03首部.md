### HTTP 首部

2022.01.04 百度实习中 20:07 今天拿到了双节礼包，开心，不过习还是要学。。。。

这块就是首部的知识，为啥单独写一篇，因为这块巨TM重要

#### 首部

首部与方法配合，共同决定客户端和服务器能做什么。首部主要有五个类型：

- 通用首部 客户端服务端都能用的，比如Date，说明报文构建的时间
- 请求首部 请求报文特有的，给服务器提供额外信息。
- 响应首部 响应报文特有，为客户端提供信息
- 实体首部 用来描述实体的，说明实体主体部分的数据类型。比如Content-type

对于首部这部分的知识，我觉得记得越多越好，开发中能充分了解报文的情况。以下将根据上面的分类进行首部的介绍：

通用首部就是用来描述报文最基本的信息：

- Connection 允许指定与连接有关的选项，比如keep-alive
- Date 报文创建时间
- MIME-Version 发送端使用的MIME版本
- Trailer 如果报文分块传输的就可以列出报文拖挂部分的首部集合
- Transfer-Encoding 告知接收端对报文采用了什么编码方式
- Update 给出发送端想升级的版本或协议
- Via 显示报文经过的中间节点，代理或网关
- Cache-Control 用于随报文传送缓存指示

请求首部，用于说明是谁在发送请求，请求来源或客户端的喜好和能力。服务器根据客户端传来的请求首部更好的进行响应，以下只列举常见的：

- Client-IP 提供了运行客户端的机器的IP地址
- From 客户端用户的E-mail地址
- Host 给出接收请求的服务器的主机名和端口号
- Referer 当前请求的URL
- User-Agent 将发请求的应用程序名称告知服务器
- Accept 告诉服务器可接受的媒体类型
- Accept-Charset 告诉服务器可接受的字符集
- Accept-Encoding 告诉服务器可接受的编码方式
- Accept-Language 告诉服务器可接受的语言
- Expect 客户端要求的服务器行为
- If-Match 实体标记与文档当前实体标记匹配就获取
- If-Modified-Since 最后修改时间
- If-None-Match 实体标记，代表资源唯一性，也就是是否修改
- If-Unmodified-Since 指定日期，除非在这个日期后没修改，则认定为没修改
- Range 如果服务器支持这个范围的请求就请求这个指定的范围
- Authorization 客户端对自己进行认证的数据
- Cookie 客户端向服务器传送的令牌
- Cookie2 说明请求端支持的cookie版本
- Max-Forward 将请求转发给其他代理或网关的最大次数

响应首部为客户端提供额外信息，比如谁在响应，响应者的功能，有助于 客户端处理请求，在未来更好的请求：

- Age 响应持续时间
- Public 服务器为其资源支持的请求方法列表
- Retry-After 如果资源不可用，在此时间后重试
- Server 服务器应用程序软件的名称和版本
- Accept-Ranges 对此资源来说服务器可接受的范围类型
- Set-Cookie 服务端对客户端设置一个令牌以便服务器对客户端进行标识

实体首部提供有关实体的信息，包括对象类型、能对资源使用的方法。

- Allow 列出可对此实体执行的请求方法
- Location 告诉客户端实体的实际位置，用于将接收端定向到资源的URL上去
- Content- Content开头的首部都是描述实体的，不多赘述
- ETag 与此实体相关的实体标记
- Expires 实体失效时间
- Last-Modified 实体最后修改时间
