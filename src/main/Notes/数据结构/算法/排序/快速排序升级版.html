<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>
</html>
<script>
    function swap(A, i, j){
        [A[i], A[j]] = [A[j], A[i]]
    }
    //返回中心点位置
    function partition(A, lo, hi) {
        //中心点选到最后
        const pivot = A[hi - 1]
        let i = 0, j = hi - 1
        //小于中心点范围：[lo, i)
        //未确认范围为：[i, j)
        //大于中心点范围为：[j, hi - 1]
        while(i !== j){
            A[i] <= pivot ? i++ : swap(A, i, --j)
        }
        swap(A, j, hi-1)
        return j
    }

    function qsort(A, lo = 0, hi = A.length) {
        if(hi - lo <= 1) return
        const p = partition(A, lo, hi)
        qsort(A, lo, p)
        qsort(A, p+1, hi)
    }
    const A = [10, 50, 30, 90, 40, 80, 70]
    qsort(A)
    console.log(A);
</script>